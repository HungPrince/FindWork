{"version":3,"sources":["../../src/pages/search/search.module.ts","../../src/pages/search/search.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { SearchPage } from './search';\n\n@NgModule({\n  declarations: [\n    SearchPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SearchPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    SearchPage\n  ]\n})\nexport class SearchPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\n\r\nimport { Item } from '../../models/item';\r\nimport { Items } from '../../providers/providers';\r\nimport { DataProvider } from '../../providers/data/data';\r\nimport { JobInformationProvider } from '../../providers/job-information/job-information';\r\nimport { ModalController } from 'ionic-angular/components/modal/modal-controller';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-search',\r\n  templateUrl: 'search.html'\r\n})\r\nexport class SearchPage {\r\n\r\n  currentItems: any = [];\r\n  province: String;\r\n  district: String;\r\n  provinces: Array<Object> = [];\r\n  districts: Array<Object> = [];\r\n  listJob: any;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public items: Items,\r\n    public dataProvider: DataProvider, public jobInf: JobInformationProvider,\r\n    public modalCtrl: ModalController) {\r\n    dataProvider.getProvince().subscribe(data => {\r\n      this.provinces = data;\r\n      this.province = \"01\";\r\n      this.loadDistrict(this.province);\r\n    })\r\n  }\r\n\r\n\r\n  /**\r\n   * Perform a service for the proper items.\r\n   */\r\n  getItems(ev) {\r\n    this.currentItems = [];\r\n    let val = ev.target.value;\r\n    this.jobInf.getJobs().subscribe(list => {\r\n      for (let i = 0; i < list.length; i++) {\r\n        let checkJob = this.currentItems.findIndex(x => x.key == list[i].key)\r\n        if (checkJob < 0) {\r\n          if (list[i].title.toLowerCase().indexOf(val.toLowerCase()) !== -1 || list[i].description.toLowerCase().indexOf(val.toLowerCase()) !== -1 || list[i].workplace.toLowerCase().indexOf(val.toLowerCase()) !== -1) {\r\n            this.currentItems.push(list[i]);\r\n          }\r\n        }\r\n      }\r\n    })\r\n    // if (!val || !val.trim()) {\r\n    //   this.currentItems = [];\r\n    //   return;\r\n    // }\r\n    // this.currentItems = this.items.query({\r\n    //   name: val\r\n    // });\r\n  }\r\n\r\n  /**\r\n   * Navigate to the detail page for this item.\r\n   */\r\n\r\n  selectProvince(province: String) {\r\n    this.loadDistrict(province);\r\n  }\r\n\r\n  loadDistrict(provinceId: String) {\r\n    this.dataProvider.getDistrictByProvince(provinceId).subscribe(data => {\r\n      this.districts = data;\r\n      this.district = data[0]['districtid'];\r\n    })\r\n  }\r\n\r\n  selectJobSearch(keyId, count) {\r\n    this.jobInf.selectJob(keyId, count)\r\n  }\r\n\r\n  unSelectJob(keyId, count) {\r\n    this.jobInf.unSelectJob(keyId, count)\r\n  }\r\n  /**\r\n   * Prompt the user to add a new item. This shows our ItemCreatePage in a\r\n   * modal and then adds the new item to our data source if the user created one.\r\n   */\r\n  addItem() {\r\n    let addModal = this.modalCtrl.create('ItemCreatePage');\r\n    // addModal.onDidDismiss(item => {\r\n    //   if (item) {\r\n    //     this.items.add(item);\r\n    //   }\r\n    // })\r\n    addModal.present();\r\n  }\r\n\r\n  /**\r\n   * Delete an item from the list of items.\r\n   */\r\n  deleteItem(item) {\r\n    this.items.delete(item);\r\n  }\r\n\r\n  /**\r\n   * Navigate to the detail page for this item.\r\n   */\r\n  openItem(jobId) {\r\n    this.navCtrl.push('ItemDetailPage', {\r\n      jobId: jobId\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts"],"sourceRoot":""}